<!DOCTYPE html>
<html xml:lang="zh-CN" lang="zh-CN">

<head>
        <meta charset="utf-8">
    <link rel="canonical" href="https://sharefreenode.github.io/news/article-74839.htm" />
    <title>树莓派安装centos运行dotnet应用的实践</title>
        <meta name="description" content="在树莓派3上运行dotnet应用，这个过程走了很多弯路，也浪费了不少时间，所以记录一下，供大家参考。树莓派官方提供的镜像系统，是Debian系统，由于习惯了centos的操作，所以选择了安装cento" />
        <meta content="width=device-width, initial-scale=1.0" name="viewport">
    <!-- Favicons -->
    <link rel="icon" href="/assets/website/img/sharefreenode/favicon.ico" type="image/x-icon"/>

    <meta name="author" content="ShareFreeNode节点订阅站">
    <meta property="og:type" content="article" />
    <meta property="og:url" content="https://sharefreenode.github.io/news/article-74839.htm" />
    <meta property="og:site_name" content="ShareFreeNode节点订阅站" />
    <meta property="og:title" content="树莓派安装centos运行dotnet应用的实践" />
    <meta property="og:image" content="https://sharefreenode.github.io/uploads/20240415/89c38bad102fbafa8dd31d1fe06586bd.webp" />
        <meta property="og:release_date" content="2025-03-16T10:28:09" />
    <meta property="og:updated_time" content="2025-03-16T10:28:09" />
        <meta property="og:description" content="在树莓派3上运行dotnet应用，这个过程走了很多弯路，也浪费了不少时间，所以记录一下，供大家参考。树莓派官方提供的镜像系统，是Debian系统，由于习惯了centos的操作，所以选择了安装cento" />
        
    <meta name="applicable-device" content="pc,mobile" />
    <meta name="renderer" content="webkit" />
    <meta name="force-rendering" content="webkit" />
    <meta http-equiv="Cache-Control" content="no-transform" />
    <meta name="robots" content="max-image-preview:large" />
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="树莓派安装centos运行dotnet应用的实践">
    <meta name="format-detection" content="telephone=no">

    <link rel="dns-prefetch" href="https:/www.googletagmanager.com">
    <link rel="dns-prefetch" href="https://www.googleadservices.com">
    <link rel="dns-prefetch" href="https://www.google-analytics.com">
    <link rel="dns-prefetch" href="https://pagead2.googlesyndication.com">
    <link rel="dns-prefetch" href="https://cm.g.doubleclick.net">
    <link rel="dns-prefetch" href="https://fonts.googleapis.com">
    
    <link href="/assets/website/img/sharefreenode/apple-touch-icon.png" rel="apple-touch-icon">
    <!-- Google Fonts -->
    <link href="https://fonts.googleapis.com/css?family=Open+Sans:300,300i,400,400i,700,700i|Raleway:300,400,500,700,800|Montserrat:300,400,700" rel="stylesheet">
    <!-- Bootstrap CSS File -->
    <link href="/assets/website/js/frontend/sharefreenode/lib/bootstrap/css/bootstrap.min.css" rel="stylesheet">
    <!-- Libraries CSS Files -->
    <link href="/assets/website/js/frontend/sharefreenode/lib/font-awesome/css/font-awesome.min.css" rel="stylesheet">
    <link href="/assets/website/js/frontend/sharefreenode/lib/animate/animate.min.css" rel="stylesheet">
    <link href="/assets/website/js/frontend/sharefreenode/lib/ionicons/css/ionicons.min.css" rel="stylesheet">
    <link href="/assets/website/js/frontend/sharefreenode/lib/owlcarousel/assets/owl.carousel.min.css" rel="stylesheet">
    <link href="/assets/website/js/frontend/sharefreenode/lib/magnific-popup/magnific-popup.css" rel="stylesheet">
    <link href="/assets/website/js/frontend/sharefreenode/lib/ionicons/css/ionicons.min.css" rel="stylesheet">
    <!-- Main Stylesheet File -->
    <link href="/assets/website/css/sharefreenode/style.css" rel="stylesheet">
    <!-- Google tag (gtag.js) -->
<script async src="https://www.googletagmanager.com/gtag/js?id=G-300HPJ3F69"></script>
<script>
  window.dataLayer = window.dataLayer || [];
  function gtag(){dataLayer.push(arguments);}
  gtag('js', new Date());

  gtag('config', 'G-300HPJ3F69');
</script>
    <script async src="https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-3332997411212854"
     crossorigin="anonymous"></script>
</head>

<body id="body" data-page="detail">
    <!--==========================
    Header
  ============================-->
<header id="header">
    <div class="container">
        <div id="logo" class="pull-left">
            <a href="/">
                        Share<span>FreeNode</span>            </a>
        </div>
        <nav id="nav-menu-container">
            <ul class="nav-menu">
                                <li><a href="/">首页</a></li>
                                <li><a href="/free-nodes/">免费节点</a></li>
                                <li><a href="/paid-subscribe/">推荐机场</a></li>
                                <li><a href="/client.htm">客户端</a></li>
                                <li><a href="/news/">新闻资讯</a></li>
                            </ul>
        </nav><!-- #nav-menu-container -->
    </div>
</header><!-- #header -->
    <!--==========================
    Page Banner Section
  ============================-->
    <section id="innerBanner">
        <div class="inner-content">
            <h2><span>树莓派安装centos运行dotnet应用的实践</span></h2>
            <p><a href="/">首页</a> / <a href="/news/">新闻资讯</a> / <span>正文</span></p>
        </div>
    </section><!-- #Page Banner -->
    <main id="main">
        <!--==========================
      Clients Section
    ============================-->
        <div class="container">
            <div class="row">
                <div class="col-md-9">
                    <section id="clients" class="wow fadeInUp">
                        <div class="container">
                            <div class="section-header">
                                                <input type="hidden" id="share-website-info" data-name="" data-url="">
                  				  				  				<div id="content_views" class="markdown_views prism-atom-one-light"> <p>在树莓派3上运行dotnet应用，这个过程走了很多弯路，也浪费了不少时间，所以记录一下，供大家参考。树莓派官方提供的镜像系统，是Debian系统，由于习惯了centos的操作，所以选择了安装centos。centos系统的选择是非常重要的，我用的是树莓派3，1G的内存，尝试过Centos7的多个树莓派镜像版本后，都有但是太多麻烦的问题需要自己处理，比如 sd卡扩容，连接sftp,运行dotnet 报错<code>GLIBCXX_3.4.20 not found</code>，数据库安装失败等一堆问题要等着处理，在尝试centos8系统时，成功跑起了dotnet应用;最终选择使用了centos8的树莓派镜像版本.</p> <h3><a id="_4" rel="nofollow"></a>准备</h3> <p>硬件：树莓派3, sd卡<br /> 软件：win32DiskImage，centos8树莓派镜像<br /> 我己上传至<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://pan.baidu.com/s/1iQs_oowQUGTF_w5zJAD5Fg"  rel="nofollow">百度云盘</a>(提取码：d3ag)和<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://www.aliyundrive.com/s/zhPhjMJEJJx"  rel="nofollow">阿里云盘</a>，需要的自己下载;</p> <h4><a id="1_9" rel="nofollow"></a>1.系统环境搭建</h4> <p>centos7有很多问题需要自己动手去解决，所以系统使用centos8的树莓派镜像，在<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://people.centos.org/pgreco/"  rel="nofollow">centos官方</a>找到树莓派8的镜像，或到网盘下载;我的树莓派3上使用的是镜像CentOS-Userland-8-stream-aarch64-RaspberryPI-Minimal-4-sda.raw</p> <h5><a id="centos8_12" rel="nofollow"></a>烧录centos8镜像</h5> <p>用到软件Win32 Disk Imager，烧录centos镜像到SD卡步骤：<br /> a.插入SD卡，打开Win32 Disk Imager<br /> b.选择解压后的镜像CentOS-Userland-8-stream-aarch64-RaspberryPI-Minimal-4-sda.raw<br /> c.点击Write<br /><img decoding="async" src="http://img.555519.xyz/uploads/20221105/3700bfaccc5c1ee11f84e34b9787bf7a.jpg" alt="树莓派安装centos运行dotnet应用的实践"></p> <p>d.完成后，将sd卡插入树莓派</p> <h5><a id="_21" rel="nofollow"></a>启动树莓派的系统</h5> <p>将树莓派通电，系统启动后，默认系统的帐号root 默认密码为centos,输入帐号密码完成系统登录</p> <h5><a id="11_wifi_24" rel="nofollow"></a>1.1 连接wifi网络</h5> <p>查看附近wifi<br /><code>nmcli d wifi</code><br /> 连接指定wifi<br /><code>nmcli d wifi connect wifi名称 password wifi密码</code></p> <h5><a id="12_SD_30" rel="nofollow"></a>1.2 扩容SD卡</h5> <p>使用CentOS官网镜像进行烧录的系统大约只占用了2G的空间，我用的SD卡有16G的空间,约12g没有使用，这时候需要将sd卡进行扩容<br /> 扩容步骤：<br /><code>yum install -y lvm2</code><br /><code>yum -y install cloud-utils-growpart.noarch</code><br /><code>growpart /dev/mmcblk0 3</code> #[注意这里是mmcblk0 ‘空格’ 3] （此步骤将余下未分配的11.2G空间扩展到了/dev/mmcblk0p3分区上了）<br /><code>resize2fs /dev/mmcblk0p3</code> #拉伸一下分区<br /> 操作完成,查看一下，/dev/root分区扩容成功<br /><code>df -h</code></p> <h3><a id="2_40" rel="nofollow"></a>2.软件环境安装</h3> <p>现在树莓派的连接方式还是直连键盘和显示器的方式，安装一个web管理界面，就可以通过网络对树莓派进行操作了</p> <h5><a id="21cockpit_42" rel="nofollow"></a>2.1安装cockpit</h5> <p>cockpit是一款功能强大的linux监控工具，提供了web方式操控终端和docker镜像，还有一个好处是，可以复制粘帖linux命令了<br /> cockpit安装骤：<br /> a.安装cockpit<br /><code>sudo yum install -y cockpit</code><br /> //如果你想要防火墙功能，安装<br /><code>firewalldsudo yum install firewalld</code><br /> //如果你想要虚拟机管理功能，安装<br /><code>cockpit-machinessudo apt install cockpit-machines</code><br /> //如果你想要容器管理功能，安装cockpit-podman,podman命令行完全兼容docker，也可以替代docker使用<br /><code>yum install -y cockpit-podman</code><br /> b.安装完毕之后，启动服务<br /><code>sudo systemctl start cockpit</code><br /> c.设置cockpit开机自动启动<br /><code>sudo systemctl enable --now cockpit.socket</code><br /> d.重启后<code>reboot</code>，开始容器管理</p> <p>e.进入web管理界面<br /> 使用PC打开 http://树莓派IP:9090 进行操作,可以通过web方式访问树莓派终端<br /><img decoding="async" src="http://img.555519.xyz/uploads/20221105/5ad33b7736cebf7dd76a0d8ebb917d1b.jpg" alt="树莓派安装centos运行dotnet应用的实践"></p> <h5><a id="22__64" rel="nofollow"></a>2.2 安装必要软件</h5> <p><code>sudo yum install -y gcc gcc-c++ icu make git cmake vim curl wget tar libtool net-tools</code><br /> a.软件升级<br /> 通过软件更新，可以用鼠标进行centos8升级操作<br /><img decoding="async" src="http://img.555519.xyz/uploads/20221105/b14838b3a1c8788a890c77733bced7e8.jpg" alt="树莓派安装centos运行dotnet应用的实践"></p> <p>b.更换yum源为阿里云<br /> 备份<br /><code>cd /etc/yum.repos.d</code><br /><code>cp CentOS-Base.repo CentOS-Base.repo.bak</code><br /> 下载阿里云源文件<br /><code>wget -O /etc/yum.repos.d/CentOS-Base.repo http://mirrors.aliyun.com/repo/Centos-8.repo</code><br /> 清除旧的yum缓存并生成新的yum缓存<br /><code>yum clean all</code><br /><code>yum makecache</code></p> <h5><a id="centos__81" rel="nofollow"></a>centos 防火墙管理</h5> <p>进入web管理界面，点击网络，进行网络管理<br /><img decoding="async" src="http://img.555519.xyz/uploads/20221105/575faeefeb8215de335c1a5784f111ef.jpg" alt="树莓派安装centos运行dotnet应用的实践"></p> <h5><a id="23_dotnet_86" rel="nofollow"></a>2.3 安装dotnet环境</h5> <p>要使用linux arm64版本的dotnet，该版本需要使用手动安装完成<br /> 可以从<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://dotnet.microsoft.com/download/dotnet/6.0"  rel="nofollow">微软官方.NET 6.0</a>下载dotnet,当前版本6.0<br /> 具体安装步骤：</p> <p>2.3.1 下载并安装.net环境</p> <p><code>wget https://download.visualstudio.microsoft.com/download/pr/adcd9310-5072-4179-9b8b-16563b897995/15a7595966f488c74909e4a9273c0e24/dotnet-sdk-6.0.100-linux-arm64.tar.gz &amp;&amp;mkdir -p $HOME/dotnet &amp;&amp; tar zxf dotnet-sdk-6.0.100-linux-arm64.tar.gz -C $HOME/dotnet</code></p> <p>2.3.2 设置dotnet路径，使其开机后也可以正常使用dotnet<br /> 执行<br /><code>vi .bashrc</code><br /> 添加两行代码到文件末尾</p> <pre><code>export DOTNET_ROOT=$HOME/dotnet export PATH=$PATH:$HOME/dotnet</code></pre> <p><code>:wq</code>保存并重启<code>reboot</code></p> <h5><a id="24_supervisor_106" rel="nofollow"></a>2.4 安装supervisor</h5> <p>2.4.1 安装epel源<br /><code>yum install -y epel-release</code></p> <p>2.4.2 安装supervisor<br /><code>yum install -y supervisor</code><br /> supervisor默认配置文件放在<code>/etc/supervisord.d/*.ini</code></p> <p>2.4.3 设置supervisor为开机启动<br /><code>systemctl start supervisord.service</code><br /> 点击服务，搜索supervisord 设为开机启动即可</p> <p>2.4.4 启动supervisord<br /> 查看应用进程 ps -ef | grep 应用名称<br /><code>ps -ef | grep supervisord</code><br /> 如果supervisord进程己启动就结束进程<br /><code>kill -9 进程id</code></p> <p>启动supervisord<br /><code>supervisord -c /etc/supervisord.conf</code></p> <h5><a id="25_nginxmyql_128" rel="nofollow"></a>2.5 安装nginx与myql</h5> <p>经过测试，这个版本系统，通过lnmp就可以正常安装，执行<br /><code>wget http://soft.vpser.net/lnmp/lnmp1.7.tar.gz -cO lnmp1.7.tar.gz &amp;&amp; tar zxf lnmp1.7.tar.gz &amp;&amp; cd lnmp1.7 &amp;&amp; ./install.sh lnmp</code><br /> 或者 单独安装<br /> 安装nginx<code>./install.sh nginx</code><br /> 安装数据库<code>./install.sh db</code><br /> 有熟悉的镜像，也可以通过podman容器安装</p> <h5><a id="26_LinkX_139" rel="nofollow"></a>2.6 安装LinkX</h5> <p>LinkX是免费的内网穿透工具，可以直接使用https访问，有了它，就可以在外网时操控家里的这台树莓派了，LinkX安装步骤如下：<br /> 2.6.1 当前树莓派安装的是LinkX-linux-arm64版本，所以安装LinkX-linux-arm64版本，执行<br /><code>wget http://down.tthongbao.cn/LinkX-linux-arm64.tar.gz&amp;&amp;mkdir -p $HOME/LinkX &amp;&amp; tar zxf LinkX-linux-arm64.tar.gz -C $HOME/LinkX &amp;&amp; cd LinkX</code></p> <p>2.6.2 打开<a href="http://www.m6000.cn/wp-content/themes/begin%20lts/inc/go.php?url=https://u.rscode.cn"  rel="nofollow">https://u.rscode.cn</a> , 点击自动生成配置文件，会自动生成LinkX的配置文件，然后替换掉压缩包里的同名文件appsettings.json;<br /><img decoding="async" src="http://img.555519.xyz/uploads/20221105/f74434b699880dec5b2dbe0eefeba65f.jpg" alt="树莓派安装centos运行dotnet应用的实践"></p> <p>这个步骤，也可以在生成配置后，通过执行<code>vi appsettings.json</code> 进行手动修改其内容</p> <p>2.6.3 修改LinkX权限，<code>sudo chmod 777 $HOME/LinkX/LinkX</code></p> <p>2.6.4 进入LinxX目录,运行<code>./LinkX</code></p> <p>2.6.5 设置LinkX为开机自动启动<br /> 在 /etc/supervisord.d/目录下创建应用的配置,文件名为linkx.ini，内容为</p> <pre><code>[program:linkx] command= /root/LinkX/LinkX  directory=/root/LinkX  autorestart=true stderr_logfile=/var/log/linkx.err.log stdout_logfile=/var/log/linkx.out.log  environment=ASPNETCORE_ENVIRONMENT=Production user=root  stopsignal=INT</code></pre> <p>加载supervisor配置<br /><code>supervisorctl reload</code><br /> 现在己可以开机LinkX自动运行，清理下浏览器的cookie缓存，用浏览器访问绑定的网址，就可以操作内网中的树莓派了,记得通过<code>passwd</code>命令更换一下系统密码</p> <p>####总结：搜索网络上好多文章，并不适合树莓派3;系统版本选择是关键，配合web管理界面，会事半功倍，节省很多时间！！！</p> </div> 			                <div class="clearfix"></div>
                <div class="col-md-12 mt-5">
                                        <p>上一个：<a href="/news/article-74180.htm">宠物驱虫剂什么牌子好（宠物驱虫十大品牌）</a></p>
                                        <p>下一个：<a href="/news/article-74840.htm">猫咪三针疫苗多久打一次好（猫咪三针疫苗需要多久）</a></p>
                                    </div>
                                            </div>
                        </div>
                    </section><!-- #clients -->
                </div>
                <div class="col-md-3">
                    <div class="panel panel-default" style="margin-top: 2rem;">
    <div class="panel-heading">
        <h3 class="panel-title">热门文章</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2"><a href="/news/article-72828.htm" title="动物疫苗证是什么样的图片 动物疫苗证是什么样的图片和价格">动物疫苗证是什么样的图片 动物疫苗证是什么样的图片和价格</a></li>
                        <li class="py-2"><a href="/news/article-56869.htm" title="让猫挠出血了用打疫苗吗（让猫挠了出了一点血有事吗）">让猫挠出血了用打疫苗吗（让猫挠了出了一点血有事吗）</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-2-12-node-share-links.htm" title="2月12日19.8M/S|V2ray/Shadowrocket/SSR/Clash免费节点每天更新订阅链接，代理机场推荐">2月12日19.8M/S|V2ray/Shadowrocket/SSR/Clash免费节点每天更新订阅链接，代理机场推荐</a></li>
                        <li class="py-2"><a href="/news/article-63266.htm" title="宠物领养市场分析（宠物领养市场分析论文）">宠物领养市场分析（宠物领养市场分析论文）</a></li>
                        <li class="py-2"><a href="/news/article-57424.htm" title="@Valid 参数校验不生效问题解决">@Valid 参数校验不生效问题解决</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-2-22-free-v2ray-subscribe.htm" title="2月22日21.4M/S|SSR/Clash/V2ray/Shadowrocket免费节点每天更新订阅链接，代理机场推荐">2月22日21.4M/S|SSR/Clash/V2ray/Shadowrocket免费节点每天更新订阅链接，代理机场推荐</a></li>
                        <li class="py-2"><a href="/news/article-37503.htm" title="快手无货源店铺是怎么发货的（快手开店无货源怎么做?）">快手无货源店铺是怎么发货的（快手开店无货源怎么做?）</a></li>
                        <li class="py-2"><a href="/free-nodes/2025-1-11-free-subscribe-node.htm" title="1月11日21.1M/S|SSR/Clash/V2ray/Shadowrocket免费节点每天更新订阅链接，代理机场推荐">1月11日21.1M/S|SSR/Clash/V2ray/Shadowrocket免费节点每天更新订阅链接，代理机场推荐</a></li>
                        <li class="py-2"><a href="/news/article-40453.htm" title="显卡除了a卡n卡还有什么(哪些显卡是a卡)">显卡除了a卡n卡还有什么(哪些显卡是a卡)</a></li>
                        <li class="py-2"><a href="/news/article-54649.htm" title="预制菜加盟哪个品牌好">预制菜加盟哪个品牌好</a></li>
                    </ul>
    </div>
</div>

<div class="panel panel-default">
    <div class="panel-heading">
        <h3 class="panel-title">归纳</h3>
    </div>
    <div class="panel-body">
        <ul class="p-0 x-0" style="list-style: none;margin: 0;padding: 0;">
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">54</span> <a href="/date/2025-03/" title="2025-03 归档">2025-03</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">84</span> <a href="/date/2025-02/" title="2025-02 归档">2025-02</a></h4>
            </li>
                        <li class="py-2">
                <h4><span class="badge" style="float: right;">83</span> <a href="/date/2025-01/" title="2025-01 归档">2025-01</a></h4>
            </li>
                    </ul>
    </div>
</div>


                </div>
            </div>
        </div>
    </main>
        <!--==========================
    Footer
  ============================-->
    <footer id="footer">
        <div class="container">
            <div class="copyright">
                            <p>
                                <a href="/">首页</a> | 
                                <a href="/free-node/">免费节点</a> | 
                                <a href="/news/">新闻资讯</a> |
                                <a href="/about-us.htm">关于我们</a> |
                                <a href="/disclaimer.htm">免责申明</a> |
                                <a href="/privacy.htm">隐私申明</a> |
                                <a href="/sitemap.xml">网站地图</a>
                            </p>
                    ShareFreeNode节点订阅站 版权所有
                    <br />
                    Powered by WordPress
            </div>
            <div class="credits">
            </div>
        </div>
    </footer><!-- #footer -->
    <a href="#" class="back-to-top"><i class="fa fa-chevron-up"></i></a>
    <!-- JavaScript  -->
    <script src="/assets/website/js/frontend/sharefreenode/lib/jquery/jquery.min.js"></script>
    <script src="/assets/website/js/frontend/sharefreenode/lib/jquery/jquery-migrate.min.js"></script>
    <script src="/assets/website/js/frontend/sharefreenode/lib/bootstrap/js/bootstrap.bundle.min.js"></script>
    <script src="/assets/website/js/frontend/sharefreenode/lib/easing/easing.min.js"></script>
    <script src="/assets/website/js/frontend/sharefreenode/lib/superfish/hoverIntent.js"></script>
    <script src="/assets/website/js/frontend/sharefreenode/lib/superfish/superfish.min.js"></script>
    <script src="/assets/website/js/frontend/sharefreenode/lib/wow/wow.min.js"></script>
    <script src="/assets/website/js/frontend/sharefreenode/lib/owlcarousel/owl.carousel.min.js"></script>
    <script src="/assets/website/js/frontend/sharefreenode/lib/magnific-popup/magnific-popup.min.js"></script>
    <script src="/assets/website/js/frontend/sharefreenode/lib/sticky/sticky.js"></script>
    <script src="contact/jqBootstrapValidation.js"></script>
    <script src="contact/contact_me.js"></script>
    <script src="/assets/website/js/frontend/sharefreenode/main.js"></script>
    <script src="https://www.freeclashnode.com/assets/js/frontend/invite-url.js"></script>
    <script src="/assets/website/js/frontend/G.js"></script>
</body>

</html>